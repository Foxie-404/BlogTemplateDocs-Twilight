---
title: 部署方式
createTime: 2025/10/10 10:10:10
permalink: /guide/deployment/
---


## 部署到 Vercel

### 通过网站UI部署

::: steps

1. 在 [Vercel](https://vercel.com/new) 页面导入项目.

2. Vercel 将自动检测 Astro 项目并自动为其配置正确的设置.

3. 你的应用程序已部署完成了！（例如：astro.vercel.app）

:::

在你的项目完成导入和部署后，所有后续内容推送到（生产分支外的）分支都将自动生成 预览部署（Preview Deployments），以及对生产分支（通常是名为“main”的分支）所做的任何更改都将自动被部署为 生产部署（Production Deployment）。

### 通过 CLI 部署 (推荐)

::: steps

1. 安装[Vercel CLI](https://vercel.com/docs/cli)并运行`vercel`进行部署
	```bash
	pnpm add -g vercel
	vercel
	```

2. Vercel 将自动检测 Astro 项目并自动为其配置正确的设置：
    - 构建命令: `astro build` / `npm run build`
    - 输出目录: `dist`

3. 当被问及`Want to override the settings? [y/N]`（想要覆盖配置吗？），选择 N（No）。

4. 你的应用程序已部署完成了！（例如：[astro.vercel.app](https://astro.vercel.app/)

:::

### 使用 vercel.json 

你可以使用 `vercel.json` 来覆盖 Vercel 的默认行为并配置其他设置。例如，你可以在部署时为 HTTP 响应附加标头。

<LinkCard title="详细请参考 Vercel 文档" href="https://vercel.com/docs/project-configuration">

</LinkCard>


## 部署到 Netlify

### 通过网站UI部署

::: steps

1. 在 [Netlify dashboard](https://app.netlify.com/) 页面点击 Add a new site

2. 选择 Import an existing project

3. Netlify 将自动检测 Astro 项目并自动为其配置正确的设置：
    - 构建命令: `astro build` / `npm run build`
    - 输出目录: `dist`

4. 部署完成后，你将被重定向到站点概览页面。在那里，你可以编辑你站点的详细信息。

:::

根据你的部署配置，未来对源代码库的任何修改都将触发预览和生产部署。

**netlify.toml 文件**

你可以选择在项目仓库的顶层创建一个新的 `netlify.toml` 文件，用来配置你的构建命令和发布目录，以及其他项目设置，包括环境变量和重定向。Netlify 将读取此文件并自动配置你的部署。

为了配置默认设置，创建一个 netlify.toml 文件，并填入以下内容：
    ```toml
    [build]
    command = "npm run build"
    publish = "dist"
    ```
更多信息可以在 Netlify 的博客文章 [部署现有的 Astro Git 仓库](https://www.netlify.com/blog/how-to-deploy-astro/#deploy-an-existing-git-repository-to-netlify) 中找到。

### 通过 CLI 部署 (推荐)

::: steps

1. 全局安装 Netlify CLI 工具
	```bash
	npm install --global netlify-cli
	```

2. 运行 `netlify login` 并按照指示进行登录并授权 Netlify。

3. 运行 `netlify init` 并按照指示进行操作。

4. 确认你的构建命令 (`astro build`)

	CLI 将自动检测构建设置（`astro build`）和部署目录（`dist`），并将提供一个自动生成且有这些对应设置的 `netlify.toml` 文件。

5. 推送到 Git 来触发构建和部署

	CLI 将向仓库添加一个部署密钥，这意味着每次你使用 git push 时，你的网站都会在 Netlify 上自动重新构建。

:::

<LinkCard title="详细请参考 Netlify 文档" href="https://www.netlify.com/blog/how-to-deploy-astro/#link-your-astro-project-and-deploy-using-the-netlify-cli">

</LinkCard>


## 部署到 Cloudflare (Pages)

### 通过网站UI部署

::: steps

1. 在 [cloudflare](https://pages.cloudflare.com) 页面选择 Create a project。

2. Cloudflare 将自动检测 Astro 项目并自动为其配置正确的设置：
    - 构建命令: `astro build` / `npm run build`
    - 输出目录: `dist`

3. 配置环境变量（如需要），然后开始部署。

:::

### 通过 CLI 部署

::: steps

1. 本地构建站点：
    ```bash
    # 使用 pnpm（项目中常见）
    pnpm install
    pnpm run build
    ``` 

2. 使用 Wrangler 的 Pages 命令直接发布（需要先安装 Wrangler）：
    ```powershell
    # 安装 wrangler（PowerShell）
    npm install -g @cloudflare/wrangler

    # 将 dist 发布到 Pages（替换 project-name）
    wrangler pages publish ./dist --project-name=your-project-name

    # 本地开发（实时预览）
    wrangler pages dev
    ```

说明：使用 Cloudflare Pages 的最简单路径是通过 Pages 控制台关联仓库并启用持续部署（每次 push 将触发构建）。

:::

<LinkCard title="详细请参考 Cloudflare Pages 文档" href="https://developers.cloudflare.com/pages/">

</LinkCard>


## 部署到服务器上

首先我们执行构建命令
```bash
npm run build
```
接下来压缩`dist`上传到你的服务器上,使用`Nginx`或者`Apache`等服务器软件进行部署,静态网站方案即可。